<!DOCTYPE html>

<script>
class CCFBody {
    constructor(body) {
        this.body = body // string
    }
    text() {
        return this.body;
    }
    json() {
        return JSON.parse(this.body);
    }
    arrayBuffer() {
        return new TextEncoder().encode(this.body).buffer;
    }
}
</script>

<script type="module">
import {computePartition} from "../dist/build/PartitionControllerProxy.js";
import {wrapInProtobuf} from "../dist/build/ProtoControllerProxy.js";
import {getCrypto} from "../dist/build/CryptoControllerProxy.js";

const request = {
    headers: {},
    params: {},
    body: new CCFBody("[1,2,3,4]"),
    query: "foo=bar" 
}

console.log('Invoking partition()');
console.log(computePartition(request));
console.log('Invoking proto()');
console.log(wrapInProtobuf(request));
console.log('Invoking crypto()');
console.log(getCrypto(request));
</script>

Open your developer console!
